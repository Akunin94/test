(function(){"use strict";var e={6418:function(e,t,r){var o=r(6643)["default"];Object.defineProperty(t,"X",{value:!0});var n=r(942),c=r(7169),i=r(5447);t.Z=(0,n.defineComponent)({name:"TagesApp",computed:o({},(0,c.mapStores)(i.useProductsStore)),mounted:function(){this.productsStore.getCartFromStorage(),this.productsStore.getFavoritesFromStorage()}})},1483:function(e,t,r){var o=r(942);t.Z=(0,o.defineComponent)({name:"TagesBreadcrumbs",props:{links:{type:Object,required:!0}}})},3103:function(e,t,r){Object.defineProperty(t,"X",{value:!0});var o=r(942);t.Z=(0,o.defineComponent)({name:"TestCart"})},3763:function(e,t,r){t.s=void 0;var o=r(942),n={class:"tages-app"};function c(e,t,r,c,i,a){var l=(0,o.resolveComponent)("router-view");return(0,o.openBlock)(),(0,o.createElementBlock)("div",n,[(0,o.createVNode)(l)])}t.s=c},9723:function(e,t,r){r(8309),t.s=void 0;var o=r(942),n={class:"tages-breadcrumbs"},c={key:0,class:"tages-breadcrumbs__text"},i=["href"],a={key:2,class:"tages-breadcrumbs__divider"};function l(e,t,r,l,s,u){return(0,o.openBlock)(),(0,o.createElementBlock)("div",n,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.links,(function(t,r){var n=t.name,l=t.href;return(0,o.openBlock)(),(0,o.createElementBlock)("div",{key:n,class:"tages-breadcrumbs__item"},[r===e.links.length-1?((0,o.openBlock)(),(0,o.createElementBlock)("span",c,(0,o.toDisplayString)(n),1)):((0,o.openBlock)(),(0,o.createElementBlock)("a",{key:1,class:"tages-breadcrumbs__link",href:l},(0,o.toDisplayString)(n),9,i)),r!==e.links.length-1?((0,o.openBlock)(),(0,o.createElementBlock)("span",a," / ")):(0,o.createCommentVNode)("",!0)])})),128))])}t.s=l},3061:function(e,t,r){t.s=void 0;var o=r(942),n={class:"cart-page"};function c(e,t,r,c,i,a){return(0,o.openBlock)(),(0,o.createElementBlock)("div",n," Cart page ")}t.s=c},1884:function(e,t,r){r(8862),Object.defineProperty(t,"__esModule",{value:!0}),t.setItem=t.getItem=void 0;var o=function(e){try{return JSON.parse(localStorage.getItem(e))}catch(t){return console.log("Error getting data from localStorage",t),null}};t.getItem=o;var n=function(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(r){console.error("Error saving data in localStorage",r)}};t.setItem=n},5286:function(e,t,r){r(6992),r(8674),r(9601),r(7727);var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=r(942),c=o(r(2462)),i=o(r(3824)),a=r(7169),l=o(r(1535)),s=(0,a.createPinia)();(0,n.createApp)(c.default).use(i.default).use(s).use(l.default).mount("#app")},3824:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=r(4530),c=o(r(9896)),i=o(r(2660)),a=[{path:"/",name:"main",component:i.default},{path:"/cart",name:"cart",component:c.default}],l=(0,n.createRouter)({routes:a,history:(0,n.createWebHashHistory)()});t["default"]=l},5447:function(e,t,r){var o=r(6114)["default"];r(7327),r(1539),Object.defineProperty(t,"__esModule",{value:!0}),t.useProductsStore=void 0;var n=r(7169),c=r(1884),i=r(7313);t.useProductsStore=(0,n.defineStore)("products",{state:function(){return{cartItems:[],favorites:[],addedProducts:[],allProducts:[],currency:"₽"}},getters:{cartSum:function(e){if(e.cartItems.length){var t,r=0,n=o(e.cartItems);try{for(n.s();!(t=n.n()).done;){var c=t.value;r+=c.price.current_price}}catch(i){n.e(i)}finally{n.f()}return Math.ceil(r)}return 0}},actions:{getAllProducts:function(){this.allProducts=i},addToCart:function(e){this.cartItems.push(e),this.updateStorageCartItems(this.cartItems)},removeFromCart:function(e){this.cartItems=this.cartItems.filter((function(t){return t.id!==e.id})),this.updateStorageCartItems(this.cartItems)},addToFavorites:function(e){this.favorites.push(e),this.updateStorageFavorites(this.favorites)},removeFromFavorites:function(e){this.favorites=this.favorites.filter((function(t){return t.id!==e.id})),this.updateStorageFavorites(this.favorites)},getCartFromStorage:function(){this.cartItems=(0,c.getItem)("cartItems")},getFavoritesFromStorage:function(){this.favorites=(0,c.getItem)("favorites")},updateStorageCartItems:function(e){(0,c.setItem)("cartItems",e)},updateStorageFavorites:function(e){(0,c.setItem)("favorites",e)}}})},2462:function(e,t,r){r.r(t),r.d(t,{__esModule:function(){return n.X},default:function(){return a}});var o=r(3763),n=r(6418),c=r(3744);const i=(0,c.Z)(n.Z,[["render",o.s]]);var a=i},9896:function(e,t,r){r.r(t),r.d(t,{__esModule:function(){return n.X},default:function(){return a}});var o=r(3061),n=r(3103),c=r(3744);const i=(0,c.Z)(n.Z,[["render",o.s]]);var a=i},2660:function(e,t,r){r.r(t),r.d(t,{default:function(){return U}});r(2707),r(7327),r(1539);var o=r(942);function n(e,t,r,n,c,i){var a=(0,o.resolveComponent)("tages-breadcrumbs"),l=(0,o.resolveComponent)("tages-filter"),s=(0,o.resolveComponent)("tages-products");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createVNode)(a,{links:e.breadcrumbs},null,8,["links"]),(0,o.createElementVNode)("h1",null,(0,o.toDisplayString)(e.pageName),1),(0,o.createVNode)(l,{sort:e.sort,"sort-selected":e.sortSelected,filter:e.filter,"filter-selected":e.filterSelected,onSortChange:e.onSortChange,onFilterChange:e.onFilterChange},null,8,["sort","sort-selected","filter","filter-selected","onSortChange","onFilterChange"]),(0,o.createVNode)(s,{products:e.products},null,8,["products"])],64)}var c=r(1801),i=r(9723),a=r(1483),l=r(3744);const s=(0,l.Z)(a.Z,[["render",i.s],["__scopeId","data-v-d8efdba0"]]);var u=s,d=(r(8309),{class:"tages-filter"}),p={class:"tages-filter__layout"},f={class:"tages-filter__item"},m={class:"tages-filter__item-title"},v={class:"tages-filter__item-select-text"},g={class:"tages-filter__item-select-dropdown"},h=["onClick"],_={class:"tages-filter__item"},k={class:"tages-filter__item-title"},S={class:"tages-filter__item-select-text"},C={class:"tages-filter__item-select-dropdown"},y=["onClick"];function b(e,t,r,n,c,i){var a=(0,o.resolveDirective)("click-away");return(0,o.openBlock)(),(0,o.createElementBlock)("div",d,[(0,o.createElementVNode)("div",p,[(0,o.createElementVNode)("div",f,[(0,o.createElementVNode)("div",m,(0,o.toDisplayString)(e.sort.name),1),(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["tages-filter__item-select",{"select-opened":e.sortDropdownShow}]),onClick:t[0]||(t[0]=function(){return e.onSortSelectClick&&e.onSortSelectClick.apply(e,arguments)})},[(0,o.createElementVNode)("div",v,(0,o.toDisplayString)(e.sortSelectedText),1),(0,o.createElementVNode)("div",g,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.sort.options,(function(t){return(0,o.openBlock)(),(0,o.createElementBlock)("div",{key:t.value,class:(0,o.normalizeClass)(["tages-filter__item-select-item",{checked:t.value===e.sortSelected}]),onClick:(0,o.withModifiers)((function(r){return e.sortCheckItem(t)}),["stop"])},(0,o.toDisplayString)(t.name),11,h)})),128))])],2)),[[a,e.onSortClickAway]])]),(0,o.createElementVNode)("div",_,[(0,o.createElementVNode)("div",k,(0,o.toDisplayString)(e.filter.name),1),(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["tages-filter__item-select",{"select-opened":e.filterDropdownShow}]),onClick:t[1]||(t[1]=function(){return e.onFilterSelectClick&&e.onFilterSelectClick.apply(e,arguments)})},[(0,o.createElementVNode)("div",S,(0,o.toDisplayString)(e.filterSelectedText),1),(0,o.createElementVNode)("div",C,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.filter.options,(function(t){return(0,o.openBlock)(),(0,o.createElementBlock)("div",{key:t.value,class:(0,o.normalizeClass)(["tages-filter__item-select-item",{checked:t.value===e.filterSelected}]),onClick:(0,o.withModifiers)((function(r){return e.filterCheckItem(t)}),["stop"])},(0,o.toDisplayString)(t.name),11,y)})),128))])],2)),[[a,e.onFilterClickAway]])])])])}r(9826);var B=(0,o.defineComponent)({name:"TagesFilter",props:{sort:{type:Object,default:function(){return{}}},sortSelected:{type:String,default:""},filter:{type:Object,default:function(){return{}}},filterSelected:{type:String,default:""}},emits:["sortChange","filterChange"],data:function(){return{sortDropdownShow:!1,filterDropdownShow:!1}},computed:{sortSelectedText:function(){var e=this;return this.sort.options.find((function(t){return t.value===e.sortSelected})).name},filterSelectedText:function(){var e=this;return this.filter.options.find((function(t){return t.value===e.filterSelected})).name}},methods:{sortCheckItem:function(e){this.sortDropdownShow=!1,this.$emit("sortChange",e.value)},onSortSelectClick:function(){this.sortDropdownShow=!0},onSortClickAway:function(){this.sortDropdownShow=!1},filterCheckItem:function(e){this.filterDropdownShow=!1,this.$emit("filterChange",e.value)},onFilterSelectClick:function(){this.filterDropdownShow=!0},onFilterClickAway:function(){this.filterDropdownShow=!1}}});const E=(0,l.Z)(B,[["render",b],["__scopeId","data-v-5bb8f40c"]]);var F=E,w={class:"tages-products"},N=["src","alt"],I={key:0,class:"tages-products__label"},D={key:1,class:"tages-products__code"},V={key:2,class:"tages-products__name"},O={class:"tages-products__bottom"},P={key:0,class:"tages-products__prices"},T={key:0,class:"tages-products__prices-old"},j={key:1,class:"tages-products__prices-current"},M={class:"tages-products__actions"},Z=["onClick"],x=["onClick"],A=["onClick"],L=["onClick"];function W(e,t,r,n,c,i){return(0,o.openBlock)(),(0,o.createElementBlock)("div",w,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.products,(function(t){return(0,o.openBlock)(),(0,o.createElementBlock)("div",{key:t.id,class:"tages-products__item"},[(0,o.createElementVNode)("img",{src:e.imageSrc(t),alt:t.name,class:"tages-products__image"},null,8,N),t.price.old_price?((0,o.openBlock)(),(0,o.createElementBlock)("div",I," Скидка ")):(0,o.createCommentVNode)("",!0),t.code?((0,o.openBlock)(),(0,o.createElementBlock)("div",D,(0,o.toDisplayString)(t.code),1)):(0,o.createCommentVNode)("",!0),t.name?((0,o.openBlock)(),(0,o.createElementBlock)("div",V,(0,o.toDisplayString)(t.name),1)):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",O,[t.price.old_price||t.price.current_price?((0,o.openBlock)(),(0,o.createElementBlock)("div",P,[t.price.old_price?((0,o.openBlock)(),(0,o.createElementBlock)("div",T,(0,o.toDisplayString)(Math.ceil(t.price.old_price))+" "+(0,o.toDisplayString)(e.productsStore.currency),1)):(0,o.createCommentVNode)("",!0),t.price.current_price?((0,o.openBlock)(),(0,o.createElementBlock)("div",j,(0,o.toDisplayString)(Math.ceil(t.price.current_price))+" "+(0,o.toDisplayString)(e.productsStore.currency),1)):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",M,[e.isAdded(t)?((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:0,class:"tages-products__button tages-products__button--added",onClick:function(r){return e.removeFromCart(t)}},null,8,Z)):(0,o.createCommentVNode)("",!0),e.isAdded(t)?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:1,class:"tages-products__button tages-products__button--add",onClick:function(r){return e.addToCart(t)}},null,8,x)),e.isFavorite(t)?((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:2,class:"tages-products__button tages-products__button--favorited",onClick:function(r){return e.removeFromFavorites(t)}},null,8,A)):(0,o.createCommentVNode)("",!0),e.isFavorite(t)?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:3,class:"tages-products__button tages-products__button--favorite",onClick:function(r){return e.addToFavorites(t)}},null,8,L))])])])})),128))])}var z=r(8439),H=r(6448),X=r(5447),J=(0,o.defineComponent)({name:"TagesProducts",props:{products:{type:Object,default:function(){return{}}}},computed:(0,c.Z)({},(0,H.Kc)(X.useProductsStore)),methods:{isAdded:function(e){var t,r=(0,z.Z)(this.productsStore.cartItems);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(o.id===e.id)return!0}}catch(n){r.e(n)}finally{r.f()}return!1},isFavorite:function(e){var t,r=(0,z.Z)(this.productsStore.favorites);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(o.id===e.id)return!0}}catch(n){r.e(n)}finally{r.f()}return!1},imageSrc:function(e){return e.image.url?"./".concat(e.image.url):"https://via.placeholder.com/150"},addToCart:function(e){this.productsStore.addToCart(e)},removeFromCart:function(e){this.productsStore.removeFromCart(e)},addToFavorites:function(e){this.productsStore.addToFavorites(e)},removeFromFavorites:function(e){this.productsStore.removeFromFavorites(e)}}});const K=(0,l.Z)(J,[["render",W],["__scopeId","data-v-7f42063e"]]);var $=K,q=r(6486),R=r.n(q),G=(0,o.defineComponent)({name:"TestMain",components:{TagesBreadcrumbs:u,TagesFilter:F,TagesProducts:$},data:function(){return{sortSelected:"asc",filterSelected:""}},computed:(0,c.Z)({products:function(){var e=this,t=this.productsStore.allProducts;return"asc"===this.sortSelected?t=R().orderBy(t,["price.current_price"],["asc","desc"]):"desc"===this.sortSelected&&(t=R().orderBy(t,["price.current_price"],["desc","asc"])),this.filterSelected&&(t=t.filter((function(t){return t.material==e.filterSelected}))),t},pageName:function(){return"Комплекты стеллажных систем"},breadcrumbs:function(){return[{name:"Главная",href:"/"},{name:"Системы хранения",href:"/"},{name:"Комплекты стеллажных систем",href:"/"}]},sort:function(){return{name:"Сортировать по:",options:[{name:"Цена по возрастанию",value:"asc"},{name:"Цена по убыванию",value:"desc"}]}},filter:function(){return{name:"Материал",options:[{name:"Любой",value:""},{name:"Дерево",value:"1"},{name:"Металл",value:"2"}]}}},(0,H.Kc)(X.useProductsStore)),mounted:function(){this.productsStore.getAllProducts()},methods:{onSortChange:function(e){this.sortSelected=e},onFilterChange:function(e){this.filterSelected=e}}});const Q=(0,l.Z)(G,[["render",n]]);var U=Q},7313:function(e){e.exports=JSON.parse('[{"id":"1","name":"Ручка дверная","code":"L422WH","price":{"old_price":400,"current_price":355},"image":{"url":"/pic/pic1.png"},"material":1},{"id":"2","name":"Ручка, нержавеющ сталь","code":"L423WH","price":{"old_price":400.9,"current_price":355.555},"image":{"url":"/pic/pic2.png"},"material":2},{"id":"3","name":"Стандартные петли","code":"P424WN","price":{"old_price":null,"current_price":75},"image":{"url":"/pic/pic3.png"},"material":2},{"id":"4","name":"Петля со стопором","code":"PW5AC","price":{"old_price":270,"current_price":200},"image":{"url":"/pic/pic4.png"},"material":2},{"id":"5","name":"Ручка дверная","code":"LM352","price":{"old_price":null,"current_price":720},"image":{"url":"/pic/pic1.png"},"material":1},{"id":"6","name":"Ручка, нержавеющ сталь","code":null,"price":{"old_price":null,"current_price":355.555},"image":{"url":"/pic/pic2.png"},"material":2},{"id":"7","name":"Стандартные петли","code":"WD14LK","price":{"old_price":null,"current_price":75},"image":{"url":"/pic/pic3.png"},"material":2},{"id":"8","name":"Петля со стопором","code":null,"price":{"old_price":1200,"current_price":900},"image":{"url":"/pic/pic4.png"},"material":2}]')}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var c=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(c.exports,c,c.exports,r),c.loaded=!0,c.exports}r.m=e,function(){var e=[];r.O=function(t,o,n,c){if(!o){var i=1/0;for(u=0;u<e.length;u++){o=e[u][0],n=e[u][1],c=e[u][2];for(var a=!0,l=0;l<o.length;l++)(!1&c||i>=c)&&Object.keys(r.O).every((function(e){return r.O[e](o[l])}))?o.splice(l--,1):(a=!1,c<i&&(i=c));if(a){e.splice(u--,1);var s=n();void 0!==s&&(t=s)}}return t}c=c||0;for(var u=e.length;u>0&&e[u-1][2]>c;u--)e[u]=e[u-1];e[u]=[o,n,c]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,c,i=o[0],a=o[1],l=o[2],s=0;if(i.some((function(t){return 0!==e[t]}))){for(n in a)r.o(a,n)&&(r.m[n]=a[n]);if(l)var u=l(r)}for(t&&t(o);s<i.length;s++)c=i[s],r.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return r.O(u)},o=self["webpackChunktest_project"]=self["webpackChunktest_project"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=r.O(void 0,[998],(function(){return r(5286)}));o=r.O(o)})();
//# sourceMappingURL=app-legacy.dca3afbb.js.map