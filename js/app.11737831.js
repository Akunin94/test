(function(){"use strict";var e={418:function(e,t,r){Object.defineProperty(t,"X",{value:!0});const o=r(942),c=r(169),n=r(447);t.Z=(0,o.defineComponent)({name:"TagesApp",computed:{...(0,c.mapStores)(n.useProductsStore)},mounted(){this.productsStore.getCartFromStorage(),this.productsStore.getFavoritesFromStorage()}})},483:function(e,t,r){const o=r(942);t.Z=(0,o.defineComponent)({name:"TagesBreadcrumbs",props:{links:{type:Object,required:!0}}})},103:function(e,t,r){Object.defineProperty(t,"X",{value:!0});const o=r(942);t.Z=(0,o.defineComponent)({name:"TestCart"})},763:function(e,t,r){t.s=void 0;const o=r(942),c={class:"tages-app"};function n(e,t,r,n,i,a){const s=(0,o.resolveComponent)("router-view");return(0,o.openBlock)(),(0,o.createElementBlock)("div",c,[(0,o.createVNode)(s)])}t.s=n},723:function(e,t,r){t.s=void 0;const o=r(942),c={class:"tages-breadcrumbs"},n={key:0,class:"tages-breadcrumbs__text"},i=["href"],a={key:2,class:"tages-breadcrumbs__divider"};function s(e,t,r,s,l,d){return(0,o.openBlock)(),(0,o.createElementBlock)("div",c,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.links,(({name:t,href:r},c)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:t,class:"tages-breadcrumbs__item"},[c===e.links.length-1?((0,o.openBlock)(),(0,o.createElementBlock)("span",n,(0,o.toDisplayString)(t),1)):((0,o.openBlock)(),(0,o.createElementBlock)("a",{key:1,class:"tages-breadcrumbs__link",href:r},(0,o.toDisplayString)(t),9,i)),c!==e.links.length-1?((0,o.openBlock)(),(0,o.createElementBlock)("span",a," / ")):(0,o.createCommentVNode)("",!0)])))),128))])}t.s=s},61:function(e,t,r){t.s=void 0;const o=r(942),c={class:"cart-page"};function n(e,t,r,n,i,a){return(0,o.openBlock)(),(0,o.createElementBlock)("div",c," Cart page ")}t.s=n},884:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setItem=t.getItem=void 0;const r=e=>{try{return JSON.parse(localStorage.getItem(e))}catch(t){return console.log("Error getting data from localStorage",t),null}};t.getItem=r;const o=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(r){console.error("Error saving data in localStorage",r)}};t.setItem=o},286:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const c=r(942),n=o(r(462)),i=o(r(824)),a=r(169),s=o(r(535)),l=(0,a.createPinia)();(0,c.createApp)(n.default).use(i.default).use(l).use(s.default).mount("#app")},824:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const c=r(530),n=o(r(896)),i=o(r(660)),a=[{path:"/",name:"main",component:i.default},{path:"/cart",name:"cart",component:n.default}],s=(0,c.createRouter)({routes:a,history:(0,c.createWebHashHistory)()});t["default"]=s},447:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.useProductsStore=void 0;const o=r(169),c=r(884),n=r(313);t.useProductsStore=(0,o.defineStore)("products",{state:()=>({cartItems:[],favorites:[],addedProducts:[],allProducts:[],currency:"₽"}),getters:{cartSum:e=>{if(e.cartItems.length){let t=0;for(const r of e.cartItems)t+=r.price.current_price;return Math.ceil(t)}return 0}},actions:{getAllProducts(){this.allProducts=n},addToCart(e){this.cartItems.push(e),this.updateStorageCartItems(this.cartItems)},removeFromCart(e){this.cartItems=this.cartItems.filter((t=>t.id!==e.id)),this.updateStorageCartItems(this.cartItems)},addToFavorites(e){this.favorites.push(e),this.updateStorageFavorites(this.favorites)},removeFromFavorites(e){this.favorites=this.favorites.filter((t=>t.id!==e.id)),this.updateStorageFavorites(this.favorites)},getCartFromStorage(){this.cartItems=(0,c.getItem)("cartItems")},getFavoritesFromStorage(){this.favorites=(0,c.getItem)("favorites")},updateStorageCartItems(e){(0,c.setItem)("cartItems",e)},updateStorageFavorites(e){(0,c.setItem)("favorites",e)}}})},462:function(e,t,r){r.r(t),r.d(t,{__esModule:function(){return c.X},default:function(){return a}});var o=r(763),c=r(418),n=r(744);const i=(0,n.Z)(c.Z,[["render",o.s]]);var a=i},896:function(e,t,r){r.r(t),r.d(t,{__esModule:function(){return c.X},default:function(){return a}});var o=r(61),c=r(103),n=r(744);const i=(0,n.Z)(c.Z,[["render",o.s]]);var a=i},660:function(e,t,r){r.r(t),r.d(t,{default:function(){return G}});var o=r(942);function c(e,t,r,c,n,i){const a=(0,o.resolveComponent)("tages-breadcrumbs"),s=(0,o.resolveComponent)("tages-filter"),l=(0,o.resolveComponent)("tages-products");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createVNode)(a,{links:e.breadcrumbs},null,8,["links"]),(0,o.createElementVNode)("h1",null,(0,o.toDisplayString)(e.pageName),1),(0,o.createVNode)(s,{sort:e.sort,"sort-selected":e.sortSelected,filter:e.filter,"filter-selected":e.filterSelected,onSortChange:e.onSortChange,onFilterChange:e.onFilterChange},null,8,["sort","sort-selected","filter","filter-selected","onSortChange","onFilterChange"]),(0,o.createVNode)(l,{products:e.products},null,8,["products"])],64)}var n=r(723),i=r(483),a=r(744);const s=(0,a.Z)(i.Z,[["render",n.s],["__scopeId","data-v-d8efdba0"]]);var l=s;const d={class:"tages-filter"},u={class:"tages-filter__layout"},p={class:"tages-filter__item"},m={class:"tages-filter__item-title"},f={class:"tages-filter__item-select-text"},g={class:"tages-filter__item-select-dropdown"},v=["onClick"],_={class:"tages-filter__item"},h={class:"tages-filter__item-title"},k={class:"tages-filter__item-select-text"},S={class:"tages-filter__item-select-dropdown"},C=["onClick"];function y(e,t,r,c,n,i){const a=(0,o.resolveDirective)("click-away");return(0,o.openBlock)(),(0,o.createElementBlock)("div",d,[(0,o.createElementVNode)("div",u,[(0,o.createElementVNode)("div",p,[(0,o.createElementVNode)("div",m,(0,o.toDisplayString)(e.sort.name),1),(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["tages-filter__item-select",{"select-opened":e.sortDropdownShow}]),onClick:t[0]||(t[0]=(...t)=>e.onSortSelectClick&&e.onSortSelectClick(...t))},[(0,o.createElementVNode)("div",f,(0,o.toDisplayString)(e.sortSelectedText),1),(0,o.createElementVNode)("div",g,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.sort.options,(t=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:t.value,class:(0,o.normalizeClass)(["tages-filter__item-select-item",{checked:t.value===e.sortSelected}]),onClick:(0,o.withModifiers)((r=>e.sortCheckItem(t)),["stop"])},(0,o.toDisplayString)(t.name),11,v)))),128))])],2)),[[a,e.onSortClickAway]])]),(0,o.createElementVNode)("div",_,[(0,o.createElementVNode)("div",h,(0,o.toDisplayString)(e.filter.name),1),(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["tages-filter__item-select",{"select-opened":e.filterDropdownShow}]),onClick:t[1]||(t[1]=(...t)=>e.onFilterSelectClick&&e.onFilterSelectClick(...t))},[(0,o.createElementVNode)("div",k,(0,o.toDisplayString)(e.filterSelectedText),1),(0,o.createElementVNode)("div",S,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.filter.options,(t=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:t.value,class:(0,o.normalizeClass)(["tages-filter__item-select-item",{checked:t.value===e.filterSelected}]),onClick:(0,o.withModifiers)((r=>e.filterCheckItem(t)),["stop"])},(0,o.toDisplayString)(t.name),11,C)))),128))])],2)),[[a,e.onFilterClickAway]])])])])}var b=(0,o.defineComponent)({name:"TagesFilter",props:{sort:{type:Object,default:()=>({})},sortSelected:{type:String,default:""},filter:{type:Object,default:()=>({})},filterSelected:{type:String,default:""}},emits:["sortChange","filterChange"],data(){return{sortDropdownShow:!1,filterDropdownShow:!1}},computed:{sortSelectedText(){return this.sort.options.find((e=>e.value===this.sortSelected)).name},filterSelectedText(){return this.filter.options.find((e=>e.value===this.filterSelected)).name}},methods:{sortCheckItem(e){this.sortDropdownShow=!1,this.$emit("sortChange",e.value)},onSortSelectClick(){this.sortDropdownShow=!0},onSortClickAway(){this.sortDropdownShow=!1},filterCheckItem(e){this.filterDropdownShow=!1,this.$emit("filterChange",e.value)},onFilterSelectClick(){this.filterDropdownShow=!0},onFilterClickAway(){this.filterDropdownShow=!1}}});const B=(0,a.Z)(b,[["render",y],["__scopeId","data-v-5bb8f40c"]]);var E=B;const F={class:"tages-products"},w=["src","alt"],N={key:0,class:"tages-products__label"},I={key:1,class:"tages-products__code"},D={key:2,class:"tages-products__name"},V={class:"tages-products__bottom"},O={key:0,class:"tages-products__prices"},P={key:0,class:"tages-products__prices-old"},T={key:1,class:"tages-products__prices-current"},j={class:"tages-products__actions"},M=["onClick"],x=["onClick"],A=["onClick"],Z=["onClick"];function L(e,t,r,c,n,i){return(0,o.openBlock)(),(0,o.createElementBlock)("div",F,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.products,(t=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:t.id,class:"tages-products__item"},[(0,o.createElementVNode)("img",{src:e.imageSrc(t),alt:t.name,class:"tages-products__image"},null,8,w),t.price.old_price?((0,o.openBlock)(),(0,o.createElementBlock)("div",N," Скидка ")):(0,o.createCommentVNode)("",!0),t.code?((0,o.openBlock)(),(0,o.createElementBlock)("div",I,(0,o.toDisplayString)(t.code),1)):(0,o.createCommentVNode)("",!0),t.name?((0,o.openBlock)(),(0,o.createElementBlock)("div",D,(0,o.toDisplayString)(t.name),1)):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",V,[t.price.old_price||t.price.current_price?((0,o.openBlock)(),(0,o.createElementBlock)("div",O,[t.price.old_price?((0,o.openBlock)(),(0,o.createElementBlock)("div",P,(0,o.toDisplayString)(Math.ceil(t.price.old_price))+" "+(0,o.toDisplayString)(e.productsStore.currency),1)):(0,o.createCommentVNode)("",!0),t.price.current_price?((0,o.openBlock)(),(0,o.createElementBlock)("div",T,(0,o.toDisplayString)(Math.ceil(t.price.current_price))+" "+(0,o.toDisplayString)(e.productsStore.currency),1)):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",j,[e.isAdded(t)?((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:0,class:"tages-products__button tages-products__button--added",onClick:r=>e.removeFromCart(t)},null,8,M)):(0,o.createCommentVNode)("",!0),e.isAdded(t)?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:1,class:"tages-products__button tages-products__button--add",onClick:r=>e.addToCart(t)},null,8,x)),e.isFavorite(t)?((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:2,class:"tages-products__button tages-products__button--favorited",onClick:r=>e.removeFromFavorites(t)},null,8,A)):(0,o.createCommentVNode)("",!0),e.isFavorite(t)?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:3,class:"tages-products__button tages-products__button--favorite",onClick:r=>e.addToFavorites(t)},null,8,Z))])])])))),128))])}var W=r(448),z=r(447),H=(0,o.defineComponent)({name:"TagesProducts",props:{products:{type:Object,default:()=>({})}},computed:{...(0,W.Kc)(z.useProductsStore)},methods:{isAdded(e){for(const t of this.productsStore.cartItems)if(t.id===e.id)return!0;return!1},isFavorite(e){for(const t of this.productsStore.favorites)if(t.id===e.id)return!0;return!1},imageSrc(e){return e.image.url?`./${e.image.url}`:"https://via.placeholder.com/150"},addToCart(e){this.productsStore.addToCart(e)},removeFromCart(e){this.productsStore.removeFromCart(e)},addToFavorites(e){this.productsStore.addToFavorites(e)},removeFromFavorites(e){this.productsStore.removeFromFavorites(e)}}});const X=(0,a.Z)(H,[["render",L],["__scopeId","data-v-7f42063e"]]);var J=X,K=r(486),$=r.n(K),q=(0,o.defineComponent)({name:"TestMain",components:{TagesBreadcrumbs:l,TagesFilter:E,TagesProducts:J},data(){return{sortSelected:"asc",filterSelected:""}},computed:{products(){let e=this.productsStore.allProducts;return"asc"===this.sortSelected?e=$().orderBy(e,["price.current_price"],["asc","desc"]):"desc"===this.sortSelected&&(e=$().orderBy(e,["price.current_price"],["desc","asc"])),this.filterSelected&&(e=e.filter((e=>e.material==this.filterSelected))),e},pageName(){return"Комплекты стеллажных систем"},breadcrumbs(){return[{name:"Главная",href:"/"},{name:"Системы хранения",href:"/"},{name:"Комплекты стеллажных систем",href:"/"}]},sort(){return{name:"Сортировать по:",options:[{name:"Цена по возрастанию",value:"asc"},{name:"Цена по убыванию",value:"desc"}]}},filter(){return{name:"Материал",options:[{name:"Любой",value:""},{name:"Дерево",value:"1"},{name:"Металл",value:"2"}]}},...(0,W.Kc)(z.useProductsStore)},mounted(){this.productsStore.getAllProducts()},methods:{onSortChange(e){this.sortSelected=e},onFilterChange(e){this.filterSelected=e}}});const R=(0,a.Z)(q,[["render",c]]);var G=R},313:function(e){e.exports=JSON.parse('[{"id":"1","name":"Ручка дверная","code":"L422WH","price":{"old_price":400,"current_price":355},"image":{"url":"/pic/pic1.png"},"material":1},{"id":"2","name":"Ручка, нержавеющ сталь","code":"L423WH","price":{"old_price":400.9,"current_price":355.555},"image":{"url":"/pic/pic2.png"},"material":2},{"id":"3","name":"Стандартные петли","code":"P424WN","price":{"old_price":null,"current_price":75},"image":{"url":"/pic/pic3.png"},"material":2},{"id":"4","name":"Петля со стопором","code":"PW5AC","price":{"old_price":270,"current_price":200},"image":{"url":"/pic/pic4.png"},"material":2},{"id":"5","name":"Ручка дверная","code":"LM352","price":{"old_price":null,"current_price":720},"image":{"url":"/pic/pic1.png"},"material":1},{"id":"6","name":"Ручка, нержавеющ сталь","code":null,"price":{"old_price":null,"current_price":355.555},"image":{"url":"/pic/pic2.png"},"material":2},{"id":"7","name":"Стандартные петли","code":"WD14LK","price":{"old_price":null,"current_price":75},"image":{"url":"/pic/pic3.png"},"material":2},{"id":"8","name":"Петля со стопором","code":null,"price":{"old_price":1200,"current_price":900},"image":{"url":"/pic/pic4.png"},"material":2}]')}},t={};function r(o){var c=t[o];if(void 0!==c)return c.exports;var n=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.loaded=!0,n.exports}r.m=e,function(){var e=[];r.O=function(t,o,c,n){if(!o){var i=1/0;for(d=0;d<e.length;d++){o=e[d][0],c=e[d][1],n=e[d][2];for(var a=!0,s=0;s<o.length;s++)(!1&n||i>=n)&&Object.keys(r.O).every((function(e){return r.O[e](o[s])}))?o.splice(s--,1):(a=!1,n<i&&(i=n));if(a){e.splice(d--,1);var l=c();void 0!==l&&(t=l)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[o,c,n]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,o){var c,n,i=o[0],a=o[1],s=o[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(c in a)r.o(a,c)&&(r.m[c]=a[c]);if(s)var d=s(r)}for(t&&t(o);l<i.length;l++)n=i[l],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(d)},o=self["webpackChunktest_project"]=self["webpackChunktest_project"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=r.O(void 0,[998],(function(){return r(286)}));o=r.O(o)})();
//# sourceMappingURL=app.11737831.js.map